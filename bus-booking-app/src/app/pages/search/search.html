<div class="search-container">
  <h1>Bus Booking System</h1>

  <div class="search-form">
    <select
      id="from"
      aria-label="Departure city"

      name = "from"
      [(ngModel)]="searchObject.from"
    >
      <option value="">Select departure city</option>
      @if (locations | async; as locationList) {
        @for (location of locationList; track location.locationId) {
          <option [value]="location.locationId">{{ location.locationName }}</option>
        }
      }
    </select>

    <select
      id="to"
      aria-label="Destination city"

      name ="to"
      [(ngModel)]="searchObject.to"
    >
      <option value="">Select destination city</option>
      @if (locations | async; as locationList) {
        @for (location of locationList; track location.locationId) {
          <option [value]="location.locationId">{{ location.locationName }}</option>
        }
      }
    </select>

    <input
      type="date"
      id="date"
      value="2024-08-17"
      aria-label="Travel date"

      name="travelDate"
      [(ngModel)]="searchObject.travelDate"
    />

    <button type="button" class="search-btn" (click)="onSearch()">
      SEARCH<br>BUSES
    </button>
  </div>

  <section class="available-buses">
    <h2>Available Buses</h2>

    @for(item of busList; track $index) {
      <div class="bus-card">
        <div class="bus-info">
          <h3 class="bus-name">{{ item.busName }}</h3>
          <p class="bus-type">{{ item.busType }}</p>
        </div>

        <div class="time-info">
          <div class="time-item">
            <p class="time">{{ item.departureTime }}</p>
            <p class="label">Departure</p>
          </div>

          <div class="time-item">
            <p class="time">{{ item.duration }}</p>
            <p class="label">Duration</p>
          </div>

          <div class="time-item">
            <p class="time">{{ item.arrivalTime }}</p>
            <p class="label">Arrival</p>
            <p class="arrival-date">{{ item.arrivalDate }}</p>
          </div>
        </div>

        <div class="rating-info">
          <div class="rating">
            <span class="rating-value">{{ item.ratingValue }}</span>
            <span class="star">⭐</span>
          </div>
          <p class="rating-count">{{ item.ratingCount }} Ratings</p>
        </div>

        <div class="price-info">
          <p class="price">INR {{ item.price }}</p>
          <p class="seats-available">{{ item.seatsAvailable }} Seats<br>available</p>
        </div>

        <button type="button" class="view-seats-btn">
          VIEW SEATS
        </button>
      </div>
    }
    <!-- <div class="bus-card">
      <div class="bus-info">
        <h3 class="bus-name">IntrCity SmartBus</h3>
        <p class="bus-type">A/C Sleeper (2+1)</p>
      </div>

      <div class="time-info">
        <div class="time-item">
          <p class="time">19:00</p>
          <p class="label">Departure</p>
        </div>

        <div class="time-item">
          <p class="time">13h 55m</p>
          <p class="label">Duration</p>
        </div>

        <div class="time-item">
          <p class="time">08:55</p>
          <p class="label">Arrival</p>
          <p class="arrival-date">18-Aug</p>
        </div>
      </div>

      <div class="rating-info">
        <div class="rating">
          <span class="rating-value">4.5</span>
          <span class="star">⭐</span>
        </div>
        <p class="rating-count">567 Ratings</p>
      </div>

      <div class="price-info">
        <p class="price">INR 935</p>
        <p class="seats-available">8 Seats<br>available</p>
      </div>

      <button type="button" class="view-seats-btn">
        VIEW SEATS
      </button>
    </div> -->
  </section>
</div>
